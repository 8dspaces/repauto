#tree
  %ul.nav.nav-list
    - tree.each_with_index do |(k, v), _i|
      %li
        %label.container.tree-toggler.nav-header
          .row
            .col-sm-8
              .hideOverflow{ 'data-toggle': 'tooltip',
                title: k, 'data-placement': 'right' }
                = k
            .col-sm-4
              -# = render partial: 'mini_status', locals: { status: gen_status(v) }
        %ul.nav.nav-list.tree{ style: 'display: none;' }
          - if v.is_a?(Array)
            - v.each do |tc|
              %li
                = link_to fetch_test_case_path(tc),
                  class: "test-case-in-list list-group-item list-group-item-#{status_map tc.status}",
                  remote: true do
                  .hideOverflow
                    = tc.name
          - else
            - v.each do |k, v|
              %li
                = link_to fetch_test_cases_path(v),
                  class: "test-case-in-list list-group-item list-group-item-#{status_map v[0].status}",
                  remote: true do
                  .hideOverflow
                    = k

:coffee
  $('[data-toggle="tooltip"]').tooltip({'delay': { 'show': 1000, 'hide': 100}})
  $('.tree-toggler').click (e) ->
    e.preventDefault()
    $(this).parent().children('ul.tree').toggle 300
  $('.test-case-in-list').click (e) ->
    e.preventDefault()
    $that = $(this)
    $('.test-case-in-list').removeClass 'active'
    $that.addClass 'active'
    return
